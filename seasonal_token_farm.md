# Seasonal Token Farm

### Abstract

Seasonal tokens become scarce one after another, at mine month intervals, because the rate of production of each token halves nine months after the halving of the previous token. After the rate of production of a token is cut in half, the price can be expected to rise as the market adjusts to the new scarcity. Investors who trade the tokens cyclically can then increase the number of tokens they own over time, by trading the more expensive tokens for the cheaper ones. 

For this to be a feasible investment strategy, the market must be liquid enough to allow individual traders to make their trades without significantly changing the price, and must also be responsive to the scarcity of the tokens. The seasonal token farm facilitates this by allowing liquidity providers to receive a fraction of the newly mined tokens.

The farm receives voluntary donations of tokens from miners and mining pools, and distributes these to providers of liquidity to the seasonal token/ethereum trading pairs on Uniswap. Each trading pair is allocated a certain proportion of the incoming tokens, which are distributed to liquidity providers in proportion to the liquidity they provide. The proportion changes every nine months to ensure that the token whose new scarcity is expected to affect its price is the one whose trading pair is allocated the largest share of tokens from the farm.


## Introduction

When a commodity becomes scarce in comparison to the supply that the market has become accustomed to, the price tends to rise as as the existing equilibrium between supply and demand is disrupted. In cases where future scarcity is predictable, an investor can profit by buying the commodity before the scarcity appears and selling it after the price has risen. 

The four seasonal tokens, Spring, Summer, Autumn and Winter, undergo halvings of their rates of production sequentially, at nine-month intervals. Nine months after the Spring token's rate of production is cut in half, the rate of production of Summer tokens is halved. This is designed to allow traders to profit by trading each token for the next token in the cycle every nine months.

The farm is intended to facilitate these trades by incentivizing investors to provide liquidity for token/ethereum trading pairs. Because the tokens paid out as rewards for farming are generated by mining and not by the farm itself, the farm operates by receiving voluntary donations and distributing these to the liquidity providers.


## Voluntary Donations

Because the farm receives and distributes voluntary donations, there is no guarantee that farming will be profitable far into the future. Donations may stop, at the discretion of future donors. 

The mining pool at <code>pool.seasonaltokens.org</code> donates 9% of the tokens mined to the farm. In the future, miners could choose to mine solo, or use a different mining pool that doesn't donate to the farm. The 9% donation may need to be reduced to prevent miners from diverting their hashpower to a different pool.

Ultimately, the miners have control over the percentage of newly-mined tokens donated to the farm. While there is a general acknowledgement among miners that the provision of liquidity should be subsidized, donations are likely to continue.

A time may come when liquidity is plentiful and subsidies are not needed, in the opinion of the miners. So the farm may have a natural economic lifespan, after which it is no longer needed.


## Rotating Farm Rewards to Incentivize Liquidity Reallocation

All incoming seasonal tokens are distributed to all liquidity providers. Someone who provides only Spring/ETH liquidity will receive Spring, Summer, Autumn and Winter tokens from the farm. If that person provides 10% of the Spring/ETH liquidity, then they will receive 10% of the tokens of all four types allocated to the Spring/ETH trading pair.

Different trading pairs are allocated different fractions of the tokens received by the farm. The initial ratio in which tokens are allocated is 5:6:7:8 for the Spring, Summer, Autumn and Winter trading pairs. Of the four trading pairs, Winter/ETH initially receives the largest allocation of tokens and Spring/ETH receives the least. A liquidity provider with 10% of the Winter/ETH liquidity will earn 1.6 times as much as someone with 10% of the Spring/ETH liquidity.

Initially, it will be more profitable to provide Winter/ETH liquidity than Spring/ETH liquidity, but, because it's more profitable, more people will do it, and the tokens allocated to Winter/ETH liquidity providers will be distributed among more people, reducing each person's share of the total. When the total amount of investment in the Winter/ETH liquidity pool is 160% of the amount invested in the Spring/ETH pool, the farm will pay out the same amount per dollar invested in each pool.

Because the incoming tokens are allocated to the trading pairs in the ratio 5:6:7:8, the total amount invested by liquidity providers in the four liquidity pools will tend to be close to this ratio. If it differs from this ratio, then it's profitable for liquidity providers to switch from one pair to another.

Four months after the first Spring halving, this changes to 10:6:7:8. The Spring/ETH pair then receives the largest number of incoming tokens, and providers will reallocate some of their liquidity from other trading pairs to the Spring/ETH pair to maximize the number of tokens they receive from farming. When this process is complete, the Spring/ETH trading pair will be the most liquid. Over the subsequent months, the price of Spring tokens will tend to rise as the accumulation of scarcity from the halving affects the market. Providing liquidity for Spring/ETH trades will yield the most farming rewards during this period. Nine months later, after the Summer halving, it changes to 10:12:7:8, and providers will reallocate liquidity to the Summer/ETH pair.

Nine months after that, the ratio will change to 10:12:14:8, or 5:6:7:4, and later will subsequently return to its original value of 5:6:7:8 four months after the Winter halving, when the cycle repeats.

The reason for the four-month offset is that the reallocation of liquidity will itself affect the prices of the tokens. Providers who switch their liquidity from another token to Spring tokens will need to buy Spring tokens to do so, putting upward pressure on the price. If this happens immediately after a halving, then the traders who buy spring tokens in the succeeding months, anticipating a later price rise from the accumulating scarcity, may find that much of the price rise has happened before they bought. By aligning the reallocation of liquidity with the beginning of the time period during which the scarcity is expected to affect the price, the farm will tend to reinforce the profits of cyclical traders, instead of front-running their trades.


## Withdrawal Windows

Liquidity providers use the farm by depositing the Uniswap v3 non-fungible tokens that represent their liquidity positions into the farm. As soon as these are deposited, they are automatically staked, and are unavailable for withdrawal for 30 days. After this, there is 7-day window during which they can be withdrawn. If they are not withdrawn during this time, another 30-day period begins during which withdrawals are unavailable.

This system allows liquidity providers to make monthly adjustments to their positions, and also allows them to choose the time of the week at which they expect gas prices to be the lowest to make their deposits and withdrawals.

At the same time, it prevents more than about one fifth of the total liquidity from fleeing in a panic. On average, about 7/37 of the liquidity can be withdrawn from the farm, and from the corresponding trading pair, at any one time. This ensures that liquidity providers who withdraw their liquidity, sell tokens of one type and buy tokens of another type, and then provide liquidity again for a different trading pair, will find enough liquidity in the trading pools to complete their trades.

This means that the reallocation of liquidity that occurs when the allocation of farming rewards changes will not happen in a disorderly way, with everybody trying to make the same trade at once, and nobody taking the other side of the trade.

Liquidity providers who are unable to withdraw during the period over which the reallocation occurs will not suffer significant losses in farm income, because, after the reallocation, the farm payout per dollar invested will be the same for the four trading pairs, just as it was before the reallocation. Those who reallocate will have a temporary increase in the number of tokens they receive, which will last only until the reallocation is complete.


## Implementation

Like the seasonal tokens, the farm is implemented as a smart contract running on the ethereum network. It accepts deposits of non-fungible tokens issued by the Uniswap v3 Position Manager contract. These tokens represent the liquidity positions of investors who have provided liquidity to the seasonal token/ethereum trading pairs.

The farm does not issue any token of its own, but it allocates incoming donated seasonal tokens to the liquidity position tokens that are deposited in the farm at the time of the donation. These tokens can then be harvested by the liquidity provider.

Only liquidity positions covering the full range of prices can be deposited. This is required to avoid the gas cost involved in determining which liquidity positions are eligible for a portion of the incoming donation. 

Because voluntary donations are the source of the funds, the contract code can be simplified to improve its security. The contract does not need to be modifiable by a contract owner after deployment. If a different behavior is desired in the future, another farm contract can be deployed, and donations can be redirected there and liquidity can migrate there. This removes the need for a contract owner with special permissions.

The farm contract interacts with only five other contracts, all of which are audited and trusted: The Uniswap Position Manager, and the seasonal token contracts.


## References

*Seasonal Tokens White Paper*, https://github.com/seasonaltokens/seasonaltokens/blob/main/whitepaper/whitepaper.md